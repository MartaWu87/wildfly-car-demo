<?xml version="1.0" encoding="UTF-8"?>
<!--
  Created by IntelliJ IDEA.
  User: schpa
  Date: 2022-10-18
  Time: 15:36
-->
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:jsf="http://xmlns.jcp.org/jsf"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
>

<head jsf:id="head">
    <title>Title</title>
    <h:outputStylesheet library="css" name="main.css"/>
</head>

<body>

<form jsf:id="modelForm" jsf:prependId="false">

    <h:selectOneRadio id="modelName" required="true" value="#{modelBean.modelName}">
        <f:selectItems value="#{modelBean.names}" var="name"
                       itemLabel="#{name}" itemValue="#{name}" />
        <f:ajax event="change" render="modelList" listener="#{modelBean.takeAction()}"/>
        <f:ajax event="change" render="modelEngine" listener="#{modelBean.takeAction()}"/>
        <f:ajax event="change" render="modelDriveTrain" listener="#{modelBean.takeAction()}"/>
        <f:ajax event="change" render="modelTransmission" listener="#{modelBean.takeAction()}"/>
        <f:ajax event="change" render="modelVersion" listener="#{modelBean.takeAction()}"/>
    </h:selectOneRadio><br/>
    <h:selectOneRadio id="modelEngine" required="true" value="#{modelBean.modelEngine}">
        <f:selectItems value="#{modelBean.engines}" var="engine"
                       itemLabel="#{engine}" itemValue="#{engine}" />
        <f:ajax event="change" render="modelList" listener="#{modelBean.takeAction()}"/>
        <f:ajax event="change" render="modelDriveTrain" listener="#{modelBean.takeAction()}"/>
        <f:ajax event="change" render="modelTransmission" listener="#{modelBean.takeAction()}"/>
        <f:ajax event="change" render="modelVersion" listener="#{modelBean.takeAction()}"/>
    </h:selectOneRadio><br/>
    <h:selectOneRadio id="modelDriveTrain" required="true" value="#{modelBean.modelDriveTrain}">
        <f:selectItems value="#{modelBean.driveTrains}" var="driveTrain"
                       itemLabel="#{driveTrain}" itemValue="#{driveTrain}" />
        <f:ajax event="change" render="modelList" listener="#{modelBean.takeAction()}"/>
        <f:ajax event="change" render="modelTransmission" listener="#{modelBean.takeAction()}"/>
        <f:ajax event="change" render="modelVersion" listener="#{modelBean.takeAction()}"/>
    </h:selectOneRadio><br/>
    <h:selectOneRadio id="modelTransmission" required="true" value="#{modelBean.modelTransmission}">
        <f:selectItems value="#{modelBean.transmissions}" var="transmission"
                       itemLabel="#{transmission}" itemValue="#{transmission}" />
        <f:ajax event="change" render="modelList" listener="#{modelBean.takeAction()}"/>
        <f:ajax event="change" render="modelVersion" listener="#{modelBean.takeAction()}"/>
    </h:selectOneRadio><br/>
    <h:selectOneRadio id="modelVersion" required="true" value="#{modelBean.modelVersion}">
        <f:selectItems value="#{modelBean.versions}" var="version"
                       itemLabel="#{version}" itemValue="#{version}" />
        <f:ajax event="change" render="modelList" listener="#{modelBean.takeAction()}"/>
    </h:selectOneRadio>



    <div jsf:id="modelList">
        <ul>
            <ui:repeat value="#{modelBean.allModels}" var="c">
                <li>#{c.id} : #{c.name} : #{c.engine} : #{c.drivetrain} : #{c.transmission} : #{c.version} : #{c.price}</li>
            </ui:repeat>
        </ul>
    </div>

</form>

</body>

</html>